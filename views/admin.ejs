<%- include('partials/header') %>

<h2 class="mb-4">Admin Area</h2>

<table class="table table-hover table-bordered align-middle">
  <thead class="table-light">
    <tr>
      <th>Name</th>
      <th>Email</th>
      <th>Role</th>
      <th>Action</th>
    </tr>
  </thead>
  <tbody>
    <% users.forEach(user => { %>
      <tr>
        <td><%= user.name %></td>
        <td><%= user.email %></td>
        <td class="text-capitalize"><%= user.user_type %></td>
        <td>
          <% if (user.user_type === 'user') { %>
            <form method="POST" action="/promote" class="d-inline">
              <input type="hidden" name="email" value="<%= user.email %>">
              <button class="btn btn-success btn-sm">Promote</button>
            </form>
          <% } else if (user.user_type === 'admin') { %>
            <form method="POST" action="/demote" class="d-inline">
              <input type="hidden" name="email" value="<%= user.email %>">
              <button class="btn btn-danger btn-sm">Demote</button>
            </form>
          <% } %>
        </td>
      </tr>
    <% }) %>
  </tbody>
</table>

<%- include('partials/footer') %>
